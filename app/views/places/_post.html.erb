<video id ="post_<%= post.id %>_video" class="video cld-video-player"></video>

<style>

  .cld-video-player .vjs-control-bar {
    z-index: 6;
  }

  /* Add padding to progress control */
  .cld-video-player .vjs-control-bar .vjs-progress-control {
    padding-left: 3rem;
    padding-right: 3rem;
  }

  .cld-video-player .vjs-control-bar {
    background-color: transparent;
  }

  .vjs-user-inactive .vjs-control-bar {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

</style>

<script>
 var cloudinary_video_player = cloudinary.videoPlayer("post_<%= post.id %>_video",{
    cloud_name: 'dfmuyxggs',
    fluid: false,
    muted: true,
    showLogo: false,
    controls: true,
    controlBar: {
      playToggle: false,
      volumeMenuButton: true,
      fullscreenToggle: false,
      currentTimeDisplay: false,
      timeDivider: false,
      durationDisplay: false,
      remainingTimeDisplay: false,
      progressControl: true,
      children: {
        volumePanel: true
      }
    },
    hideContextMenu: true,
    autoplay: true,
    loop: true,
    colors: {
      base: 'transparent', // Changes the controls bar and information bar to be transparent
      accent: '#FFFFFF', // Sets the seek bar, volume control, and interactions with the UI to white
      text: '#000000' // Sets the text and icons within the video player UI to black
    },
    // To prevent fullscreen on iOS
    playsinline: true
  });

  // Crop video to fill screen (well, the place container)
  cloudinary_video_player.source("<%= post.video_public_id %>", { transformation: { width: document.querySelector('.place').clientWidth, height: document.querySelector('.place').clientHeight, crop: 'fill' }});

</script>
